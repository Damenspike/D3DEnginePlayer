<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" 
		href="../../assets/style/main.css">
	<script src="../../assets/scripts/theme.js"></script>
</head>
<style>
	.new-project {
		flex: 1;
		padding: 10px;
		
		.tf {
			width: 100%;
		}
	}
</style>
<body>
	<div class='new-project'>
		
		<div class="field">
			<label for="project-name">Project name</label>
			<input
				id="newproj_name"
				type="text"
				class="tf"
			/>
		</div>
		
		<div class="field">
			<label for="author">Author</label>
			<input
				id="newproj_author"
				type="text"
				class="tf"
			/>
		</div>
		
		<div class="field">
			<label>Default dimensions</label>
			<input
				id="newproj_width"
				name="width"
				type="number"
				class="tf tf--num"
				value="760"
				placeholder="Width px"
			/>
			<input
				id="newproj_height"
				name="height"
				type="number"
				class="tf tf--num"
				value="480"
				placeholder="Height px"
			/>
		</div>
		
		<button
			onclick="createProject()"
			style="width: 100%;"
		>
			Create Project
		</button>
		
	</div>
</body>
</html>
<script>
	function createProject() {
		const name = document.getElementById('newproj_name').value;
		const author = document.getElementById('newproj_author').value;
		const width = Number(document.getElementById('newproj_width').value);
		const height = Number(document.getElementById('newproj_height').value);
		
		D3D.createNewProject({name, author, width, height, 
			onComplete: onProjectCreated,
			closeNewWindow: true
		});
	}
	function onProjectCreated({path}) {
		console.log('Project created', path);
		D3D.openProject(path);
	}
</script>